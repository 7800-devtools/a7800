<?xml version="1.0"?>
<mamelayout version="2">

<!-- luascript -->

	<script>
	local layout = {}
	local board
	local first_sq
	local curr_sq = {x = 0, y = 0}

	local port_tags = { ":IN.0", ":IN.1", ":IN.2", ":IN.3", ":IN.4", ":IN.5", ":IN.6", ":IN.7" }
	local ports

	local function move_piece(from, to)
		if board[from.y][from.x] == 0 then
			return false
		end
		board[to.y][to.x] = board[from.y][from.x]
		board[from.y][from.x] = 0
		machine:outputs():set_indexed_value("pos", (to.y * 10) + to.x, board[to.y][to.x])
		machine:outputs():set_indexed_value("pos", (from.y * 10) + from.x, 0)
		return true
	end

	function layout.reset()
		board =
			{{ 3, 5, 4, 2, 1, 4, 5, 3},
				{ 6, 6, 6, 6, 6, 6, 6, 6},
				{ 0, 0, 0, 0, 0, 0, 0, 0},
				{ 0, 0, 0, 0, 0, 0, 0, 0},
				{ 0, 0, 0, 0, 0, 0, 0, 0},
				{ 0, 0, 0, 0, 0, 0, 0, 0},
				{12,12,12,12,12,12,12,12},
				{ 9,11,10, 8, 7,10,11, 9}}

		for y, row in ipairs(board) do
			for x, cell in ipairs(row) do
				machine:outputs():set_indexed_value("pos", (y * 10) + x, board[y][x])
			end
		end
		ports = machine:ioport().ports
	end

	function layout.frame()
		local value = ports[":IN.8"]:read()
		if value &amp; 0x80 ~= 0 then
			layout.reset()
			return
		end

		for x, tag in ipairs(port_tags) do
			local port = ports[tag]
			if port then
				local newvalue = port:read()
				if newvalue ~= 0 then
					for y = 8, 1, -1 do
						if newvalue &amp; 1 == 1 then
							if (curr_sq.y == y) and (curr_sq.x == x) then
								return
							end
							if not first_sq then
								first_sq = {x = x, y = y}
							else
								if move_piece(first_sq, {x = x, y = y}) then
									first_sq = nil
								else
									first_sq = {x = x, y = y}
								end
							end
							curr_sq = {x = x, y = y}
							return
						end
						newvalue = newvalue >> 1
					end
				end
			end
		end
	end

	return layout, "fidel_csc"
	</script>


<!-- other than panel button mappings, layout is identical to vsc -->

<!-- define elements -->

	<element name="digit" defstate="0">
		<led7seg><color red="1.0" green="0.1" blue="0.15" /></led7seg>
	</element>

	<element name="led" defstate="0">
		<disk state="1"><color red="1.0" green="0.1" blue="0.15" /></disk>
		<disk state="0"><color red="0.1" green="0.01" blue="0.015" /></disk>
	</element>

	<element name="hl" defstate="0">
		<text string=" ">
			<bounds x="0.0" y="0.0" width="1.0" height="1.0" />
			<color red="0.0" green="0.0" blue="0.0" />
		</text>
		<disk state="1">
			<bounds x="0.12" y="0.12" width="0.76" height="0.76" />
			<color red="1.0" green="1.0" blue="1.0" />
		</disk>
	</element>
	<element name="hlb" defstate="0">
		<text string=" ">
			<bounds x="0.0" y="0.0" width="1.0" height="1.0" />
			<color red="0.0" green="0.0" blue="0.0" />
		</text>
		<disk state="1">
			<bounds x="0.0" y="0.0" width="1.0" height="1.0" />
			<color red="1.0" green="1.0" blue="1.0" />
		</disk>
	</element>
	<element name="hlp" defstate="0">
		<text string=" ">
			<bounds x="0.0" y="0.0" width="1.0" height="1.0" />
			<color red="0.0" green="0.0" blue="0.0" />
		</text>
		<rect state="1">
			<bounds x="0.0" y="0.0" width="1.0" height="1.0" />
			<color red="1.0" green="1.0" blue="1.0" />
		</rect>
	</element>

	<element name="black"><rect><color red="0.17" green="0.15" blue="0.15" /></rect></element>
	<element name="white"><rect><color red="0.81" green="0.8" blue="0.79" /></rect></element>
	<element name="disk_black"><disk><color red="0.17" green="0.15" blue="0.15" /></disk></element>
	<element name="disk_white"><disk><color red="0.81" green="0.8" blue="0.79" /></disk></element>

	<element name="text_1">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="1"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_2">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="2"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_3">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="3"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_4">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="4"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_5">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="5"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_6">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="6"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_7">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="7"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_8">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="8"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>

	<element name="text_a">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="A"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_b">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="B"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_c">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="C"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_d">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="D"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_e">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="E"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_f">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="F"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_g">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="G"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>
	<element name="text_h">
		<rect><color red="0.81" green="0.8" blue="0.79" /></rect>
		<text string="H"><color red="0.01" green="0.01" blue="0.01" /></text>
	</element>

	<element name="text_re">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="RE"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_cl">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="CL"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_king">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="&#x265a;"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_queen">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="&#x265b;"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_rook">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="&#x265c;"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_bishop">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="&#x265d;"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_knight">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="&#x265e;"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>
	<element name="text_pawn">
		<disk><color red="0.81" green="0.8" blue="0.79" /></disk>
		<text string="&#x265f;"><color red="0.17" green="0.15" blue="0.15" /></text>
	</element>

	<element name="text_tm">
		<rect><color red="0.17" green="0.15" blue="0.15" /></rect>
		<text string="TM"><color red="0.81" green="0.8" blue="0.79" /></text>
	</element>
	<element name="text_rv">
		<rect><color red="0.17" green="0.15" blue="0.15" /></rect>
		<text string="RV"><color red="0.81" green="0.8" blue="0.79" /></text>
	</element>
	<element name="text_speak">
		<rect><color red="0.17" green="0.15" blue="0.15" /></rect>
		<text string="spk"><color red="0.81" green="0.8" blue="0.79" /></text>
	</element>
	<element name="text_st">
		<rect><color red="0.17" green="0.15" blue="0.15" /></rect>
		<text string="ST"><color red="0.81" green="0.8" blue="0.79" /></text>
	</element>
	<element name="text_dm">
		<rect><color red="0.17" green="0.15" blue="0.15" /></rect>
		<text string="DM"><color red="0.81" green="0.8" blue="0.79" /></text>
	</element>
	<element name="text_lv">
		<rect><color red="0.17" green="0.15" blue="0.15" /></rect>
		<text string="LV"><color red="0.81" green="0.8" blue="0.79" /></text>
	</element>

	<element name="piece" defstate="0">
		<text string="&#x265a;" state="1"><color red="0.27" green="0.25" blue="0.25" /></text>
		<text string="&#x265b;" state="2"><color red="0.27" green="0.25" blue="0.25" /></text>
		<text string="&#x265c;" state="3"><color red="0.27" green="0.25" blue="0.25" /></text>
		<text string="&#x265d;" state="4"><color red="0.27" green="0.25" blue="0.25" /></text>
		<text string="&#x265e;" state="5"><color red="0.27" green="0.25" blue="0.25" /></text>
		<text string="&#x265f;" state="6"><color red="0.27" green="0.25" blue="0.25" /></text>

		<text string="&#x265a;" state="7"><color red="0.71" green="0.7" blue="0.69" /></text>
		<text string="&#x265b;" state="8"><color red="0.71" green="0.7" blue="0.69" /></text>
		<text string="&#x265c;" state="9"><color red="0.71" green="0.7" blue="0.69" /></text>
		<text string="&#x265d;" state="10"><color red="0.71" green="0.7" blue="0.69" /></text>
		<text string="&#x265e;" state="11"><color red="0.71" green="0.7" blue="0.69" /></text>
		<text string="&#x265f;" state="12"><color red="0.71" green="0.7" blue="0.69" /></text>
	</element>


<!-- build screen -->

	<view name="Internal Layout">
		<bounds left="-2" right="98" top="-18" bottom="88" />

		<bezel element="white"><bounds x="-2.5" y="-2" width="101" height="90.5" /></bezel>

	<!-- chessboard coords -->

		<bezel element="text_8"><bounds x="-0.8" y="7" width="2" height="2" /></bezel>
		<bezel element="text_7"><bounds x="-0.8" y="17" width="2" height="2" /></bezel>
		<bezel element="text_6"><bounds x="-0.8" y="27" width="2" height="2" /></bezel>
		<bezel element="text_5"><bounds x="-0.8" y="37" width="2" height="2" /></bezel>
		<bezel element="text_4"><bounds x="-0.8" y="47" width="2" height="2" /></bezel>
		<bezel element="text_3"><bounds x="-0.8" y="57" width="2" height="2" /></bezel>
		<bezel element="text_2"><bounds x="-0.8" y="67" width="2" height="2" /></bezel>
		<bezel element="text_1"><bounds x="-0.8" y="77" width="2" height="2" /></bezel>

		<bezel element="text_a"><bounds x="7" y="85" width="2" height="2" /></bezel>
		<bezel element="text_b"><bounds x="17" y="85" width="2" height="2" /></bezel>
		<bezel element="text_c"><bounds x="27" y="85" width="2" height="2" /></bezel>
		<bezel element="text_d"><bounds x="37" y="85" width="2" height="2" /></bezel>
		<bezel element="text_e"><bounds x="47" y="85" width="2" height="2" /></bezel>
		<bezel element="text_f"><bounds x="57" y="85" width="2" height="2" /></bezel>
		<bezel element="text_g"><bounds x="67" y="85" width="2" height="2" /></bezel>
		<bezel element="text_h"><bounds x="77" y="85" width="2" height="2" /></bezel>

	<!-- chessboard bezel -->

		<bezel element="black"><bounds x="2" y="2" width="82" height="82" /></bezel>
		<bezel element="white"><bounds x="3" y="3" width="80" height="80" /></bezel>

		<bezel element="black"><bounds x="13" y="2.5" width="10" height="10.5" /></bezel>
		<bezel element="black"><bounds x="33" y="2.5" width="10" height="10.5" /></bezel>
		<bezel element="black"><bounds x="53" y="2.5" width="10" height="10.5" /></bezel>
		<bezel element="black"><bounds x="73" y="2.5" width="10.5" height="10.5" /></bezel>

		<bezel element="black"><bounds x="2.5" y="13" width="10.5" height="10" /></bezel>
		<bezel element="black"><bounds x="23" y="13" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="43" y="13" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="63" y="13" width="10" height="10" /></bezel>

		<bezel element="black"><bounds x="13" y="23" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="33" y="23" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="53" y="23" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="73" y="23" width="10.5" height="10" /></bezel>

		<bezel element="black"><bounds x="2.5" y="33" width="10.5" height="10" /></bezel>
		<bezel element="black"><bounds x="23" y="33" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="43" y="33" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="63" y="33" width="10" height="10" /></bezel>

		<bezel element="black"><bounds x="13" y="43" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="33" y="43" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="53" y="43" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="73" y="43" width="10.5" height="10" /></bezel>

		<bezel element="black"><bounds x="2.5" y="53" width="10.5" height="10" /></bezel>
		<bezel element="black"><bounds x="23" y="53" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="43" y="53" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="63" y="53" width="10" height="10" /></bezel>

		<bezel element="black"><bounds x="13" y="63" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="33" y="63" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="53" y="63" width="10" height="10" /></bezel>
		<bezel element="black"><bounds x="73" y="63" width="10.5" height="10" /></bezel>

		<bezel element="black"><bounds x="2.5" y="73" width="10.5" height="10.5" /></bezel>
		<bezel element="black"><bounds x="23" y="73" width="10" height="10.5" /></bezel>
		<bezel element="black"><bounds x="43" y="73" width="10" height="10.5" /></bezel>
		<bezel element="black"><bounds x="63" y="73" width="10" height="10.5" /></bezel>


		<bezel name="pos11" element="piece"><bounds x="3" y="3" width="10" height="10" /></bezel>
		<bezel name="pos12" element="piece"><bounds x="13" y="3" width="10" height="10" /></bezel>
		<bezel name="pos13" element="piece"><bounds x="23" y="3" width="10" height="10" /></bezel>
		<bezel name="pos14" element="piece"><bounds x="33" y="3" width="10" height="10" /></bezel>
		<bezel name="pos15" element="piece"><bounds x="43" y="3" width="10" height="10" /></bezel>
		<bezel name="pos16" element="piece"><bounds x="53" y="3" width="10" height="10" /></bezel>
		<bezel name="pos17" element="piece"><bounds x="63" y="3" width="10" height="10" /></bezel>
		<bezel name="pos18" element="piece"><bounds x="73" y="3" width="10" height="10" /></bezel>

		<bezel name="pos21" element="piece"><bounds x="3" y="13" width="10" height="10" /></bezel>
		<bezel name="pos22" element="piece"><bounds x="13" y="13" width="10" height="10" /></bezel>
		<bezel name="pos23" element="piece"><bounds x="23" y="13" width="10" height="10" /></bezel>
		<bezel name="pos24" element="piece"><bounds x="33" y="13" width="10" height="10" /></bezel>
		<bezel name="pos25" element="piece"><bounds x="43" y="13" width="10" height="10" /></bezel>
		<bezel name="pos26" element="piece"><bounds x="53" y="13" width="10" height="10" /></bezel>
		<bezel name="pos27" element="piece"><bounds x="63" y="13" width="10" height="10" /></bezel>
		<bezel name="pos28" element="piece"><bounds x="73" y="13" width="10" height="10" /></bezel>

		<bezel name="pos31" element="piece"><bounds x="3" y="23" width="10" height="10" /></bezel>
		<bezel name="pos32" element="piece"><bounds x="13" y="23" width="10" height="10" /></bezel>
		<bezel name="pos33" element="piece"><bounds x="23" y="23" width="10" height="10" /></bezel>
		<bezel name="pos34" element="piece"><bounds x="33" y="23" width="10" height="10" /></bezel>
		<bezel name="pos35" element="piece"><bounds x="43" y="23" width="10" height="10" /></bezel>
		<bezel name="pos36" element="piece"><bounds x="53" y="23" width="10" height="10" /></bezel>
		<bezel name="pos37" element="piece"><bounds x="63" y="23" width="10" height="10" /></bezel>
		<bezel name="pos38" element="piece"><bounds x="73" y="23" width="10" height="10" /></bezel>

		<bezel name="pos41" element="piece"><bounds x="3" y="33" width="10" height="10" /></bezel>
		<bezel name="pos42" element="piece"><bounds x="13" y="33" width="10" height="10" /></bezel>
		<bezel name="pos43" element="piece"><bounds x="23" y="33" width="10" height="10" /></bezel>
		<bezel name="pos44" element="piece"><bounds x="33" y="33" width="10" height="10" /></bezel>
		<bezel name="pos45" element="piece"><bounds x="43" y="33" width="10" height="10" /></bezel>
		<bezel name="pos46" element="piece"><bounds x="53" y="33" width="10" height="10" /></bezel>
		<bezel name="pos47" element="piece"><bounds x="63" y="33" width="10" height="10" /></bezel>
		<bezel name="pos48" element="piece"><bounds x="73" y="33" width="10" height="10" /></bezel>

		<bezel name="pos51" element="piece"><bounds x="3" y="43" width="10" height="10" /></bezel>
		<bezel name="pos52" element="piece"><bounds x="13" y="43" width="10" height="10" /></bezel>
		<bezel name="pos53" element="piece"><bounds x="23" y="43" width="10" height="10" /></bezel>
		<bezel name="pos54" element="piece"><bounds x="33" y="43" width="10" height="10" /></bezel>
		<bezel name="pos55" element="piece"><bounds x="43" y="43" width="10" height="10" /></bezel>
		<bezel name="pos56" element="piece"><bounds x="53" y="43" width="10" height="10" /></bezel>
		<bezel name="pos57" element="piece"><bounds x="63" y="43" width="10" height="10" /></bezel>
		<bezel name="pos58" element="piece"><bounds x="73" y="43" width="10" height="10" /></bezel>

		<bezel name="pos61" element="piece"><bounds x="3" y="53" width="10" height="10" /></bezel>
		<bezel name="pos62" element="piece"><bounds x="13" y="53" width="10" height="10" /></bezel>
		<bezel name="pos63" element="piece"><bounds x="23" y="53" width="10" height="10" /></bezel>
		<bezel name="pos64" element="piece"><bounds x="33" y="53" width="10" height="10" /></bezel>
		<bezel name="pos65" element="piece"><bounds x="43" y="53" width="10" height="10" /></bezel>
		<bezel name="pos66" element="piece"><bounds x="53" y="53" width="10" height="10" /></bezel>
		<bezel name="pos67" element="piece"><bounds x="63" y="53" width="10" height="10" /></bezel>
		<bezel name="pos68" element="piece"><bounds x="73" y="53" width="10" height="10" /></bezel>

		<bezel name="pos71" element="piece"><bounds x="3" y="63" width="10" height="10" /></bezel>
		<bezel name="pos72" element="piece"><bounds x="13" y="63" width="10" height="10" /></bezel>
		<bezel name="pos73" element="piece"><bounds x="23" y="63" width="10" height="10" /></bezel>
		<bezel name="pos74" element="piece"><bounds x="33" y="63" width="10" height="10" /></bezel>
		<bezel name="pos75" element="piece"><bounds x="43" y="63" width="10" height="10" /></bezel>
		<bezel name="pos76" element="piece"><bounds x="53" y="63" width="10" height="10" /></bezel>
		<bezel name="pos77" element="piece"><bounds x="63" y="63" width="10" height="10" /></bezel>
		<bezel name="pos78" element="piece"><bounds x="73" y="63" width="10" height="10" /></bezel>

		<bezel name="pos81" element="piece"><bounds x="3" y="73" width="10" height="10" /></bezel>
		<bezel name="pos82" element="piece"><bounds x="13" y="73" width="10" height="10" /></bezel>
		<bezel name="pos83" element="piece"><bounds x="23" y="73" width="10" height="10" /></bezel>
		<bezel name="pos84" element="piece"><bounds x="33" y="73" width="10" height="10" /></bezel>
		<bezel name="pos85" element="piece"><bounds x="43" y="73" width="10" height="10" /></bezel>
		<bezel name="pos86" element="piece"><bounds x="53" y="73" width="10" height="10" /></bezel>
		<bezel name="pos87" element="piece"><bounds x="63" y="73" width="10" height="10" /></bezel>
		<bezel name="pos88" element="piece"><bounds x="73" y="73" width="10" height="10" /></bezel>

	<!-- chessboard leds -->

		<bezel name="0.15" element="led"><bounds x="3.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.15" element="led"><bounds x="13.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.15" element="led"><bounds x="23.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.15" element="led"><bounds x="33.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.15" element="led"><bounds x="43.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.15" element="led"><bounds x="53.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.15" element="led"><bounds x="63.2" y="11.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.15" element="led"><bounds x="73.2" y="11.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.14" element="led"><bounds x="3.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.14" element="led"><bounds x="13.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.14" element="led"><bounds x="23.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.14" element="led"><bounds x="33.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.14" element="led"><bounds x="43.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.14" element="led"><bounds x="53.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.14" element="led"><bounds x="63.2" y="21.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.14" element="led"><bounds x="73.2" y="21.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.13" element="led"><bounds x="3.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.13" element="led"><bounds x="13.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.13" element="led"><bounds x="23.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.13" element="led"><bounds x="33.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.13" element="led"><bounds x="43.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.13" element="led"><bounds x="53.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.13" element="led"><bounds x="63.2" y="31.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.13" element="led"><bounds x="73.2" y="31.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.12" element="led"><bounds x="3.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.12" element="led"><bounds x="13.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.12" element="led"><bounds x="23.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.12" element="led"><bounds x="33.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.12" element="led"><bounds x="43.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.12" element="led"><bounds x="53.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.12" element="led"><bounds x="63.2" y="41.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.12" element="led"><bounds x="73.2" y="41.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.11" element="led"><bounds x="3.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.11" element="led"><bounds x="13.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.11" element="led"><bounds x="23.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.11" element="led"><bounds x="33.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.11" element="led"><bounds x="43.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.11" element="led"><bounds x="53.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.11" element="led"><bounds x="63.2" y="51.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.11" element="led"><bounds x="73.2" y="51.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.10" element="led"><bounds x="3.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.10" element="led"><bounds x="13.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.10" element="led"><bounds x="23.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.10" element="led"><bounds x="33.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.10" element="led"><bounds x="43.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.10" element="led"><bounds x="53.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.10" element="led"><bounds x="63.2" y="61.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.10" element="led"><bounds x="73.2" y="61.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.9" element="led"><bounds x="3.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.9" element="led"><bounds x="13.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.9" element="led"><bounds x="23.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.9" element="led"><bounds x="33.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.9" element="led"><bounds x="43.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.9" element="led"><bounds x="53.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.9" element="led"><bounds x="63.2" y="71.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.9" element="led"><bounds x="73.2" y="71.3" width="1.5" height="1.5" /></bezel>

		<bezel name="0.8" element="led"><bounds x="3.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="1.8" element="led"><bounds x="13.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="2.8" element="led"><bounds x="23.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="3.8" element="led"><bounds x="33.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="4.8" element="led"><bounds x="43.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="5.8" element="led"><bounds x="53.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="6.8" element="led"><bounds x="63.2" y="81.3" width="1.5" height="1.5" /></bezel>
		<bezel name="7.8" element="led"><bounds x="73.2" y="81.3" width="1.5" height="1.5" /></bezel>

	<!-- chessboard sensors -->

		<bezel element="hl" inputtag="IN.0" inputmask="0x80"><bounds x="3" y="3" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x80"><bounds x="13" y="3" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x80"><bounds x="23" y="3" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x80"><bounds x="33" y="3" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x80"><bounds x="43" y="3" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x80"><bounds x="53" y="3" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x80"><bounds x="63" y="3" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x80"><bounds x="73" y="3" width="10" height="10" /><color alpha="0.2" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x40"><bounds x="3" y="13" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x40"><bounds x="13" y="13" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x40"><bounds x="23" y="13" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x40"><bounds x="33" y="13" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x40"><bounds x="43" y="13" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x40"><bounds x="53" y="13" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x40"><bounds x="63" y="13" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x40"><bounds x="73" y="13" width="10" height="10" /><color alpha="0.4" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x20"><bounds x="3" y="23" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x20"><bounds x="13" y="23" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x20"><bounds x="23" y="23" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x20"><bounds x="33" y="23" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x20"><bounds x="43" y="23" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x20"><bounds x="53" y="23" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x20"><bounds x="63" y="23" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x20"><bounds x="73" y="23" width="10" height="10" /><color alpha="0.2" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x10"><bounds x="3" y="33" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x10"><bounds x="13" y="33" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x10"><bounds x="23" y="33" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x10"><bounds x="33" y="33" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x10"><bounds x="43" y="33" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x10"><bounds x="53" y="33" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x10"><bounds x="63" y="33" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x10"><bounds x="73" y="33" width="10" height="10" /><color alpha="0.4" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x08"><bounds x="3" y="43" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x08"><bounds x="13" y="43" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x08"><bounds x="23" y="43" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x08"><bounds x="33" y="43" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x08"><bounds x="43" y="43" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x08"><bounds x="53" y="43" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x08"><bounds x="63" y="43" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x08"><bounds x="73" y="43" width="10" height="10" /><color alpha="0.2" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x04"><bounds x="3" y="53" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x04"><bounds x="13" y="53" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x04"><bounds x="23" y="53" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x04"><bounds x="33" y="53" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x04"><bounds x="43" y="53" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x04"><bounds x="53" y="53" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x04"><bounds x="63" y="53" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x04"><bounds x="73" y="53" width="10" height="10" /><color alpha="0.4" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x02"><bounds x="3" y="63" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x02"><bounds x="13" y="63" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x02"><bounds x="23" y="63" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x02"><bounds x="33" y="63" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x02"><bounds x="43" y="63" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x02"><bounds x="53" y="63" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x02"><bounds x="63" y="63" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x02"><bounds x="73" y="63" width="10" height="10" /><color alpha="0.2" /></bezel>

		<bezel element="hl" inputtag="IN.0" inputmask="0x01"><bounds x="3" y="73" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.1" inputmask="0x01"><bounds x="13" y="73" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.2" inputmask="0x01"><bounds x="23" y="73" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.3" inputmask="0x01"><bounds x="33" y="73" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.4" inputmask="0x01"><bounds x="43" y="73" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.5" inputmask="0x01"><bounds x="53" y="73" width="10" height="10" /><color alpha="0.4" /></bezel>
		<bezel element="hl" inputtag="IN.6" inputmask="0x01"><bounds x="63" y="73" width="10" height="10" /><color alpha="0.2" /></bezel>
		<bezel element="hl" inputtag="IN.7" inputmask="0x01"><bounds x="73" y="73" width="10" height="10" /><color alpha="0.4" /></bezel>

	<!-- right side -->

		<bezel name="0.7" element="led"><bounds x="89.95" y="7.25" width="1.5" height="1.5" /></bezel>

		<bezel element="disk_black"><bounds x="87" y="13" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="21.8" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="30.6" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="39.4" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="48.2" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="57" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="65.8" width="7.4" height="7.4" /></bezel>
		<bezel element="disk_black"><bounds x="87" y="74.6" width="7.4" height="7.4" /></bezel>

		<bezel element="disk_white"><bounds x="88.2" y="14.2" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="23" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="31.8" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="40.6" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="49.4" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="58.2" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="67" width="5" height="5" /></bezel>
		<bezel element="disk_white"><bounds x="88.2" y="75.8" width="5" height="5" /></bezel>

		<bezel element="text_re"><bounds x="88.2" y="15.2" width="5" height="3" /></bezel>
		<bezel element="text_cl"><bounds x="88.2" y="24" width="5" height="3" /></bezel>
		<bezel element="text_king"><bounds x="88.2" y="32.1" width="5" height="4" /></bezel>
		<bezel element="text_queen"><bounds x="88.2" y="40.9" width="5" height="4" /></bezel>
		<bezel element="text_bishop"><bounds x="88.2" y="49.7" width="5" height="4" /></bezel>
		<bezel element="text_knight"><bounds x="88.2" y="58.5" width="5" height="4" /></bezel>
		<bezel element="text_rook"><bounds x="88.2" y="67.3" width="5" height="4" /></bezel>
		<bezel element="text_pawn"><bounds x="88.2" y="76.1" width="5" height="4" /></bezel>

		<bezel element="hlb" inputtag="IN.8" inputmask="0x80"><bounds x="87" y="13" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x40"><bounds x="87" y="21.8" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x20"><bounds x="87" y="30.6" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x10"><bounds x="87" y="39.4" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x08"><bounds x="87" y="48.2" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x04"><bounds x="87" y="57" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x02"><bounds x="87" y="65.8" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>
		<bezel element="hlb" inputtag="IN.8" inputmask="0x01"><bounds x="87" y="74.6" width="7.4" height="7.4" /><color alpha="0.3" /></bezel>

	<!-- panel 7seg leds -->

		<bezel name="digit3" element="digit">
			<bounds x="33" y="-14.5" width="5.66" height="8.5" />
		</bezel>
		<bezel name="digit2" element="digit">
			<bounds x="38.66" y="-14.5" width="5.66" height="8.5" />
		</bezel>
		<bezel name="digit1" element="digit">
			<bounds x="47.16" y="-14.5" width="5.66" height="8.5" />
		</bezel>
		<bezel name="digit0" element="digit">
			<bounds x="52.82" y="-14.5" width="5.66" height="8.5" />
		</bezel>

		<bezel name="2.7" element="led">
			<bounds x="45.58" y="-13" width="0.85" height="0.85" />
		</bezel>
		<bezel name="3.7" element="led">
			<bounds x="45.13" y="-8.35" width="0.85" height="0.85" />
		</bezel>

	<!-- panel buttons -->

		<bezel element="black"><bounds x="73" y="-14.5" width="5" height="3" /></bezel>
		<bezel element="text_tm"><bounds x="73.05" y="-14.45" width="4.9" height="2.9" /></bezel>
		<bezel element="hlp" inputtag="IN.2" inputmask="0x100"><bounds x="73" y="-14.5" width="5" height="3" /><color alpha="0.25" /></bezel>

		<bezel element="black"><bounds x="79.2" y="-14.5" width="5" height="3" /></bezel>
		<bezel element="text_rv"><bounds x="79.25" y="-14.45" width="4.9" height="2.9" /></bezel>
		<bezel element="hlp" inputtag="IN.1" inputmask="0x100"><bounds x="79.2" y="-14.5" width="5" height="3" /><color alpha="0.25" /></bezel>

		<bezel element="black"><bounds x="85.4" y="-14.5" width="5" height="3" /></bezel>
		<bezel element="text_speak"><bounds x="85.45" y="-14.45" width="4.9" height="2.9" /></bezel>
		<bezel element="hlp" inputtag="IN.0" inputmask="0x100"><bounds x="85.4" y="-14.5" width="5" height="3" /><color alpha="0.25" /></bezel>

		<bezel element="black"><bounds x="73" y="-9" width="5" height="3" /></bezel>
		<bezel element="text_st"><bounds x="73.05" y="-8.95" width="4.9" height="2.9" /></bezel>
		<bezel element="hlp" inputtag="IN.5" inputmask="0x100"><bounds x="73" y="-9" width="5" height="3" /><color alpha="0.25" /></bezel>

		<bezel element="black"><bounds x="79.2" y="-9" width="5" height="3" /></bezel>
		<bezel element="text_dm"><bounds x="79.25" y="-8.95" width="4.9" height="2.9" /></bezel>
		<bezel element="hlp" inputtag="IN.4" inputmask="0x100"><bounds x="79.2" y="-9" width="5" height="3" /><color alpha="0.25" /></bezel>

		<bezel element="black"><bounds x="85.4" y="-9" width="5" height="3" /></bezel>
		<bezel element="text_lv"><bounds x="85.45" y="-8.95" width="4.9" height="2.9" /></bezel>
		<bezel element="hlp" inputtag="IN.3" inputmask="0x100"><bounds x="85.4" y="-9" width="5" height="3" /><color alpha="0.25" /></bezel>

	</view>
</mamelayout>
